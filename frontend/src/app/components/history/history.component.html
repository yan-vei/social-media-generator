<div style="text-align: center">
<div class="row">
  <div class="col-sm-12">
    <h1>Your History</h1>
  </div>
</div>
<div class="row" style="margin: 1em;">
  <div class="col-sm">
    <button class="btn btn-primary" (click)="getArticles()">Get Articles</button>
    <br>
    <button class="btn btn-primary" (click)="getTexts()">Get Texts</button>
  </div>

</div>

<div class="row" style="align-items: center;">
  <div class="col-sm-3">
    <h2>Articles</h2>
  </div>
  <div class="col-lg" style="align-items: flex-end;">
    <input aria-label="Default" aria-describedby="inputGroup-sizing-default" #articleTitle type="text">
    <button class="btn btn-secondary" (click)="this.searchArticleByTitle(articleTitle.value)">Search by title</button>
  </div>
  <div class="col-sm-3">
    <button class="btn btn-secondary" (click)="this.displayArticles = !this.displayArticles">Hide</button>
  </div>
</div>

<div style="text-align: left; width:100%" class="row" *ngIf="this.displayArticles">
  <div style="margin: 1em 1em 1em 1em;" class="col-lg-12 article" *ngFor="let article of this.articles">
    <h3><b>Title:</b> {{article.title}}</h3>
    <p><b>URL:</b><a href="{{article.url}}"> {{article.url}}</a></p>
    <span><b>Text:</b> {{article.text}}</span>
    <p><b>Generated on:</b> {{article.added_at | date: 'dd/MM/yyyy'}}</p>
    <button class="btn btn-primary" (click)="getArticleTweets(article.id)">Get posts</button>
    <button class="btn btn-primary" (click)="this.displayArticleTweets=!this.displayArticleTweets;">Hide</button>

    <div class="row" style="margin-left: 5px; justify-content: center;" *ngIf="this.displayArticleTweets">
      <div class="col-sm-3 tweet" style="max-width: 80%; max-height: 100%; margin-bottom: 1em;" *ngFor="let tweet of articleTweets; index as i">
        <span style="max-width: 100%;">{{tweet.post}}</span><br>
        <span style="color:darkblue;"><b>Score:</b> {{tweet.score}}</span><br>
      </div>
    </div>
  </div>

</div>

<div class="row" style="align-items: center;">
  <div class="col-sm-3">
    <h2>Texts</h2>
  </div>
  <div class="col-lg" style="align-items: flex-end;">
    <input aria-label="Default" aria-describedby="inputGroup-sizing-default" #textTitle type="text">
    <button class="btn btn-secondary" (click)="this.searchTextByTitle(textTitle.value)">Search by title</button>
  </div>
  <div class="col-sm-3">
    <button class="btn btn-secondary" (click)="this.displayTexts = !this.displayTexts">Hide</button>
  </div>
</div>

<div style="text-align: left; width:100%" class="row" *ngIf="this.displayTexts">
  <div style="margin: 1em 1em 1em 1em;" class="col-lg-12 text" *ngFor="let text of this.texts">
    <h3><b>Title:</b> {{text.title}}</h3>
    <span><b>Text:</b> {{text.text}}</span>
    <p><b>Generated on:</b> {{text.added_at | date: 'dd/MM/yyyy'}}</p>
    <button class="btn btn-primary" (click)="getTextExtractsTweets(text.id)">Get posts</button>
    <button class="btn btn-primary" (click)="this.displayTextsTweets=!this.displayTextsTweets;">Hide</button>

    <div class="row" style="margin-left: 5px; justify-content: center;" *ngIf="this.displayTextsTweets">
      <div class="col-sm-3 tweet" style="max-width: 80%; max-height: 100%; margin-bottom: 1em;" *ngFor="let tweet of textTweets; index as i">
        <span style="max-width: 100%;">{{tweet.post}}</span><br>
        <span style="color:darkblue;"><b>Score:</b> {{tweet.score}}</span><br>
      </div>
    </div>
  </div>

</div>
</div>
